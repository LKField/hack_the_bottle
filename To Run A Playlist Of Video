sudo apt update && sudo apt upgrade -y
sudo apt install yt-dlp ffmpeg -y

import subprocess
import time

#  List of Videos to see
video_urls = [
    "https://youtube.com/shorts/2iQxQHF5fhw?si=Njg8h6bmm9ikJeYr",
    "https://youtu.be/cpY_Fa6y2iI?si=saXnQHkK9Ui0ZxsC"
]  # Ajoute d'autres liens ici

for youtube_url in video_urls:
    print(f" Visionnage de {youtube_url}")

    command_get_stream = ["yt-dlp", "-g", "-f", "worst", youtube_url]

    try:
        video_stream_url = subprocess.check_output(command_get_stream).decode("utf-8").strip()

        command_play = ["ffmpeg", "-re", "-i", video_stream_url, "-f", "null", "-"]

        subprocess.run(command_play)

    except Exception as e:
        print(" Erreur :", e)

    print(" Video Ended. Go to the next one...\n")
    time.sleep(5)                                                                        # Break of 5 sec between each video


nohup python3 visionnage.py &                                                                # Running the script even if you close the terminal

